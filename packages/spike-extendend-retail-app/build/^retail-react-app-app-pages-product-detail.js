"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[725],{4366:(e,t,r)=>{r.r(t),r.d(t,{default:()=>q});var n=r(6428),a=r(3008),l=r(7294),o=r(5958),i=r.n(o),c=r(4593),d=r(6896),s=r(4012),u=r(5193),m=r(8527),p=r(9017),g=r(7606),E=r(2602),f=r(1777),y=r(8856),h=r(2339),v=r(1339),b=r(4189),x=r(7319);const _=({product:e})=>{const{formatMessage:t}=(0,d.Z)();return l.createElement(m.Kq,{direction:"row",spacing:[0,0,0,16]},l.createElement(x.UQ,{allowMultiple:!0,allowToggle:!0,maxWidth:"896px",flex:[1,1,1,5]},l.createElement(x.Qd,null,l.createElement("h2",null,l.createElement(x.KF,{height:"64px"},l.createElement(m.xu,{flex:"1",textAlign:"left",fontWeight:"bold",fontSize:"lg"},t({defaultMessage:[{type:0,value:"Product Detail"}],id:"product_detail.accordion.button.product_detail"})),l.createElement(x.XE,null))),l.createElement(x.Hk,{mb:6,mt:4},l.createElement("div",{dangerouslySetInnerHTML:{__html:null==e?void 0:e.longDescription}}))),l.createElement(x.Qd,null,l.createElement("h2",null,l.createElement(x.KF,{height:"64px"},l.createElement(m.xu,{flex:"1",textAlign:"left",fontWeight:"bold",fontSize:"lg"},t({defaultMessage:[{type:0,value:"Size & Fit"}],id:"product_detail.accordion.button.size_fit"})),l.createElement(x.XE,null))),l.createElement(x.Hk,{mb:6,mt:4},t({defaultMessage:[{type:0,value:"Coming Soon"}],id:"product_detail.accordion.message.coming_soon"}))),l.createElement(x.Qd,null,l.createElement("h2",null,l.createElement(x.KF,{height:"64px"},l.createElement(m.xu,{flex:"1",textAlign:"left",fontWeight:"bold",fontSize:"lg"},t({defaultMessage:[{type:0,value:"Reviews"}],id:"product_detail.accordion.button.reviews"})),l.createElement(x.XE,null))),l.createElement(x.Hk,{mb:6,mt:4},t({defaultMessage:[{type:0,value:"Coming Soon"}],id:"product_detail.accordion.message.coming_soon"}))),l.createElement(x.Qd,null,l.createElement("h2",null,l.createElement(x.KF,{height:"64px"},l.createElement(m.xu,{flex:"1",textAlign:"left",fontWeight:"bold",fontSize:"lg"},t({defaultMessage:[{type:0,value:"Questions"}],id:"product_detail.accordion.button.questions"})),l.createElement(x.XE,null))),l.createElement(x.Hk,{mb:6,mt:4},t({defaultMessage:[{type:0,value:"Coming Soon"}],id:"product_detail.accordion.message.coming_soon"})))),l.createElement(m.xu,{display:["none","none","none","block"],flex:4}))};_.propTypes={product:i().object};const O=_;var w=r(894),P=r(6906);const S=({title:e,text:t,icon:r})=>l.createElement(m.Kq,null,l.createElement(m.kC,{w:16,h:16,align:"center",justify:"center",color:"white",rounded:"full",bg:"gray.100",mb:1},r),l.createElement(m.xv,{fontWeight:600},e),l.createElement(m.xv,{color:"gray.600"},t)),C=()=>l.createElement(m.xu,{p:4},l.createElement(m.MI,{columns:{base:1,md:3},spacing:10},l.createElement(S,{icon:l.createElement(w.JO,{as:P.h_,w:10,h:10}),title:"Hello there",text:"Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore..."}),l.createElement(S,{icon:l.createElement(w.JO,{as:P.su,w:10,h:10}),title:"This is",text:"Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore..."}),l.createElement(S,{icon:l.createElement(w.JO,{as:P.nQ,w:10,h:10}),title:"A component slot",text:"Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore..."})));var k=r(4337),L=r(9025),I=r(6550),j=r(8422),T=r(6740);function M(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Z(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?M(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):M(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const D=()=>{const{formatMessage:e}=(0,d.Z)(),t=(0,I.k6)(),r=(0,I.TH)(),n=(0,y.Z)(),o=(0,j.p)(),i=(0,f.Z)(),[x,_]=(0,l.useState)({}),w=l.useRef({}),P=(0,p.useCustomerId)(),{data:S}=(0,g.Q)(),M=(0,p.useShopperBasketsMutation)("addItemToBasket"),{res:D}=(0,h.useServerContext)();D&&D.set("Cache-Control",`max-age=${k.RU}`);const{productId:q}=(0,I.UO)(),A=new URLSearchParams(r.search),{data:W,isLoading:F}=(0,p.useProduct)({parameters:{id:A.get("pid")||q,allImages:!0}},{keepPreviousData:!0}),K=null==W?void 0:W.type.set,{data:H}=(0,p.useCategory)({parameters:{id:null==W?void 0:W.primaryCategoryId,level:1}}),[Q,V]=(0,l.useState)(H),z=(0,E.c1)(W);(0,l.useEffect)((()=>{H&&V(H)}),[H]),(0,l.useEffect)((()=>{if(!z)return;const e=(0,L.DE)(`${r.pathname}${r.search}`,{pid:null==z?void 0:z.productId});t.replace(e)}),[z]);const{data:U,isLoading:N}=(0,T.L)(),R=(0,p.useShopperCustomersMutation)("createCustomerProductListItem"),B=(t,r,n)=>{R.mutate({parameters:{listId:U.id,customerId:P},body:{quantity:n,productId:(null==r?void 0:r.productId)||(null==t?void 0:t.id),public:!1,priority:1,type:"product"}},{onSuccess:()=>{o({title:e(k.Zy,{quantity:1}),status:"success",action:l.createElement(u.zx,{variant:"link",onClick:()=>i("/account/wishlist")},e(k.GN))})},onError:()=>{J()}})},X=(0,j.p)(),J=()=>{X({title:e(k.oj),status:"error"})},$=function(){var e=(0,a.Z)((function*(e){try{const t=e.map((({variant:e,quantity:t})=>({productId:e.productId,price:e.price,quantity:t})));return yield M.mutateAsync({parameters:{basketId:S.basketId},body:t}),n.sendAddToCart(t),e}catch(e){J(e)}}));return function(t){return e.apply(this,arguments)}}(),G=(0,l.useCallback)((()=>{Object.values(w.current).forEach((({validateOrderability:e})=>{e({scrollErrorIntoView:!1})}));const e=Object.keys(x),t=W.setProducts.find((({id:t})=>!e.includes(t)));if(t){const{ref:e}=w.current[t.id];return e.scrollIntoView&&e.scrollIntoView({behavior:"smooth",block:"end"}),!1}return!0}),[W,x]);return(0,l.useEffect)((()=>{W&&W.type.set?(n.sendViewProduct(W),W.setProducts.map((e=>{n.sendViewProduct(e)}))):W&&n.sendViewProduct(W)}),[W]),l.createElement(l.Fragment,null,l.createElement(C,null),l.createElement(m.xu,{className:"sf-product-detail-page",layerStyle:"page","data-testid":"product-details-page"},l.createElement(c.q,null,l.createElement("title",null,null==W?void 0:W.pageTitle),l.createElement("meta",{name:"description",content:null==W?void 0:W.pageDescription})),l.createElement(m.Kq,{spacing:16},K?l.createElement(l.Fragment,null,l.createElement(b.Z,{product:W,category:(null==Q?void 0:Q.parentCategoryTree)||[],addToCart:()=>{const e=Object.values(x);return $(e)},addToWishlist:B,isProductLoading:F,isWishlistLoading:N,validateOrderability:G}),l.createElement("hr",null),W.setProducts.map((e=>l.createElement(m.xu,{key:e.id,"data-testid":"child-product"},l.createElement(b.Z,{ref:function(t){w.current[e.id]={ref:t,validateOrderability:this.validateOrderability}},product:e,isProductPartOfSet:!0,addToCart:(t,r)=>$([{product:e,variant:t,quantity:r}]),addToWishlist:B,onVariantSelected:(e,t,r)=>{if(r)_((n=>Z(Z({},n),{},{[e.id]:{product:e,variant:t,quantity:r}})));else{const t=Z({},x);delete t[e.id],_(t)}},isProductLoading:F,isWishlistLoading:N}),l.createElement(O,{product:e}),l.createElement(m.xu,{display:["none","none","none","block"]},l.createElement("hr",null)))))):l.createElement(l.Fragment,null,l.createElement(b.Z,{product:W,category:(null==Q?void 0:Q.parentCategoryTree)||[],addToCart:(e,t)=>$([{product:W,variant:e,quantity:t}]),addToWishlist:B,isProductLoading:F,isWishlistLoading:N}),l.createElement(O,{product:W})),l.createElement(m.Kq,{spacing:16},!K&&l.createElement(v.Z,{title:l.createElement(s.Z,{defaultMessage:[{type:0,value:"Complete the Set"}],id:"product_detail.recommended_products.title.complete_set"}),recommender:"complete-the-set",products:[W],mx:{base:-4,md:-8,lg:0},shouldFetch:()=>null==W?void 0:W.id}),l.createElement(v.Z,{title:l.createElement(s.Z,{defaultMessage:[{type:0,value:"You might also like"}],id:"product_detail.recommended_products.title.might_also_like"}),recommender:"pdp-similar-items",products:[W],mx:{base:-4,md:-8,lg:0},shouldFetch:()=>null==W?void 0:W.id}),l.createElement(v.Z,{title:l.createElement(s.Z,{defaultMessage:[{type:0,value:"Recently Viewed"}],id:"product_detail.recommended_products.title.recently_viewed"}),recommender:"viewed-recently-einstein",mx:{base:-4,md:-8,lg:0}})))))};D.getTemplateName=()=>"product-detail",D.propTypes={match:i().object};const q=D}}]);