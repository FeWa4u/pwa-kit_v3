"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[320],{8596:(e,t,a)=>{a.d(t,{Z:()=>v});var r=a(1170),l=a(9331),n=a(7294),s=a(5958),o=a.n(s),d=a(6896),i=a(6550),c=a(3727),u=a(6052),m=a(8527),p=a(5193),g=a(1391),f=a(1271);const E=["urls","currentURL"],h="undefined"==typeof window,y=e=>{const t=(0,d.Z)(),a=(0,u.mq)("Pagination"),s=(0,i.k6)(),{urls:o,currentURL:y}=e,v=(0,l.Z)(e,E),b=o.indexOf(y)>0?o.indexOf(y):0,x=o[b-1],_=o[b+1];return n.createElement(m.kC,(0,r.Z)({"data-testid":"sf-pagination",className:"sf-pagination"},a.container,v),n.createElement(p.zx,(0,r.Z)({},a.button,{as:h?m.rU:c.Link,href:x||y,to:x||y,"aria-label":"Previous Page",isDisabled:!x,variant:"link"}),n.createElement(f.wy,null),n.createElement(m.xv,null,t.formatMessage({id:"pagination.link.prev",defaultMessage:[{type:0,value:"Prev"}]}))),n.createElement(m.kC,{paddingLeft:4,paddingRight:4},n.createElement(g.Ph,{id:"pagination",onChange:e=>{s.push(e.target.value)},value:y,height:11},o.map(((e,t)=>n.createElement("option",{key:t,value:e},t+1)))),n.createElement(m.xv,a.text,t.formatMessage({id:"pagination.field.num_of_pages",defaultMessage:[{type:0,value:"of "},{type:1,value:"numOfPages"}]},{numOfPages:o.length}))),n.createElement(p.zx,(0,r.Z)({},a.button,{as:h?m.rU:c.Link,href:_||y,to:_||y,"aria-label":"Next Page",isDisabled:!_,variant:"link"}),n.createElement(m.xv,null,t.formatMessage({id:"pagination.link.next",defaultMessage:[{type:0,value:"Next"}]})),n.createElement(f.XC,null)))};y.displayName="Pagination",y.propTypes={urls:o().array.isRequired,currentURL:o().string};const v=y},7463:(e,t,a)=>{a.r(t),a.d(t,{default:()=>je});var r=a(3008),l=a(7294),n=a(5958),s=a.n(n),o=a(6896),d=a(4012),i=a(7322),c=a(8527),u=a(5193),m=a(7319),p=a(401),g=a(3082),f=a(6906),E=a(1170),h=a(9331),y=a(4107),v=a(3083),b=a(6886),x=a(2630),_=a(6360),w=a(837),M=a(9061);const S=({form:e,prefix:t=""})=>{const a=function({form:{control:e,errors:t},prefix:a=""}){const{formatMessage:r}=(0,o.Z)();return{firstName:{name:`${a}firstName`,label:r({defaultMessage:[{type:0,value:"First Name"}],id:"use_profile_fields.label.first_name"}),type:"text",defaultValue:"",rules:{required:r({defaultMessage:[{type:0,value:"Please enter your first name."}],id:"use_profile_fields.error.required_first_name"})},error:t[`${a}firstName`],control:e},lastName:{name:`${a}lastName`,label:r({defaultMessage:[{type:0,value:"Last Name"}],id:"use_profile_fields.label.last_name"}),type:"text",defaultValue:"",rules:{required:r({defaultMessage:[{type:0,value:"Please enter your last name."}],id:"use_profile_fields.error.required_last_name"})},error:t[`${a}lastName`],control:e},email:{name:`${a}email`,label:r({defaultMessage:[{type:0,value:"Email"}],id:"use_profile_fields.label.email"}),placeholder:"you@email.com",type:"email",defaultValue:"",rules:{required:r({defaultMessage:[{type:0,value:"Please enter a valid email address."}],id:"use_profile_fields.error.required_email"})},error:t[`${a}email`],control:e},phone:{name:`${a}phone`,label:r({defaultMessage:[{type:0,value:"Phone Number"}],id:"use_profile_fields.label.phone"}),defaultValue:"",type:"tel",rules:{required:r({defaultMessage:[{type:0,value:"Please enter your phone number."}],id:"use_profile_fields.error.required_phone"})},error:t[`${a}phone`],inputProps:({onChange:e})=>({inputMode:"numeric",onChange(t){e((0,w.u)(t.target.value))}}),control:e}}}({form:e,prefix:t});return l.createElement(c.Kq,{spacing:5},l.createElement(c.MI,{columns:[1,1,1,2],spacing:5},l.createElement(M.Z,a.firstName),l.createElement(M.Z,a.lastName)),l.createElement(M.Z,a.email),l.createElement(M.Z,a.phone))};S.propTypes={form:s().object.isRequired,prefix:s().string};const Z=S;var k=a(8047),O=a(2582);const C=({form:e,prefix:t=""})=>{const a=function({form:{control:e,errors:t},prefix:a=""}){const{formatMessage:r}=(0,o.Z)();return{currentPassword:{name:`${a}currentPassword`,label:r({defaultMessage:[{type:0,value:"Current Password"}],id:"use_update_password_fields.label.current_password"}),defaultValue:"",type:"password",rules:{required:r({defaultMessage:[{type:0,value:"Please enter your password."}],id:"use_update_password_fields.error.required_password"})},error:t[`${a}currentPassword`],control:e},password:{name:`${a}password`,label:r({defaultMessage:[{type:0,value:"New Password"}],id:"use_update_password_fields.label.new_password"}),type:"password",defaultValue:"",rules:{required:r({defaultMessage:[{type:0,value:"Please provide a new password."}],id:"use_update_password_fields.error.required_new_password"}),validate:{hasMinChars:e=>(0,k.u)(e).hasMinChars||r({defaultMessage:[{type:0,value:"Password must contain at least 8 characters."}],id:"use_update_password_fields.error.minimum_characters"}),hasUppercase:e=>(0,k.u)(e).hasUppercase||r({defaultMessage:[{type:0,value:"Password must contain at least one uppercase letter."}],id:"use_update_password_fields.error.uppercase_letter"}),hasLowercase:e=>(0,k.u)(e).hasLowercase||r({defaultMessage:[{type:0,value:"Password must contain at least one lowercase letter."}],id:"use_update_password_fields.error.lowercase_letter"}),hasNumber:e=>(0,k.u)(e).hasNumber||r({defaultMessage:[{type:0,value:"Password must contain at least one number."}],id:"use_update_password_fields.error.contain_number"}),hasSpecialChar:e=>(0,k.u)(e).hasSpecialChar||r({defaultMessage:[{type:0,value:"Password must contain at least one special character."}],id:"use_update_password_fields.error.special_character"})}},error:t[`${a}password`],control:e}}}({form:e,prefix:t}),r=e.watch("password");return l.createElement(c.Kq,{spacing:5,divider:l.createElement(c.cX,{borderColor:"gray.100"})},l.createElement(c.Kq,null,l.createElement(M.Z,a.currentPassword),l.createElement(c.xu,null,l.createElement(u.zx,{variant:"link",size:"sm",onClick:()=>null},l.createElement(d.Z,{defaultMessage:[{type:0,value:"Forgot Password?"}],id:"update_password_fields.button.forgot_password"})))),l.createElement(c.Kq,{spacing:3,pb:2},l.createElement(M.Z,a.password),l.createElement(O.Z,{value:r})))};C.propTypes={form:s().object.isRequired,prefix:s().string};const N=C;var z=a(562),A=a(9017),P=a(8539);const I=["children","height","width"],q=e=>{let{children:t,height:a,width:r}=e,n=(0,h.Z)(e,I);const{data:s}=(0,P.k)(),{isRegistered:o}=s,d=o?{}:{height:a,width:r};return l.createElement(y.Od,(0,E.Z)({isLoaded:!s.isLoading},n,d),t)},K=()=>{var e;const{formatMessage:t}=(0,o.Z)(),{data:a}=(0,P.k)(),{isRegistered:n,customerId:s}=a,i=(0,A.useShopperCustomersMutation)("updateCustomer"),u=(0,v.pm)(),[m,p]=(0,l.useState)(!1),g=(0,x.cI)({defaultValues:{firstName:null==a?void 0:a.firstName,lastName:null==a?void 0:a.lastName,email:null==a?void 0:a.email,phone:null==a?void 0:a.phoneHome}});(0,l.useEffect)((()=>{g.reset({firstName:a.firstName,lastName:a.lastName,email:a.email,phone:a.phoneHome})}),[null==a?void 0:a.firstName,null==a?void 0:a.lastName,null==a?void 0:a.email,null==a?void 0:a.phoneHome]);const E=function(){var e=(0,r.Z)((function*(e){try{g.clearErrors(),i.mutate({parameters:{customerId:s},body:{firstName:e.firstName,lastName:e.lastName,phoneHome:e.phone,email:e.email,login:e.email}},{onSuccess:()=>{p(!1),u({title:t({defaultMessage:[{type:0,value:"Profile updated"}],id:"profile_card.info.profile_updated"}),status:"success",isClosable:!0})}})}catch(e){g.setError("global",{type:"manual",message:e.message})}}));return function(t){return e.apply(this,arguments)}}();return l.createElement(_.Dj,{id:"my-profile",title:l.createElement(q,{height:"30px",width:"120px"},t({defaultMessage:[{type:0,value:"My Profile"}],id:"profile_card.title.my_profile"})),editing:m,isLoading:g.formState.isSubmitting,onEdit:n?()=>p(!0):void 0,layerStyle:"cardBordered"},l.createElement(_.Zz,null,l.createElement(c.W2,{variant:"form"},l.createElement("form",{onSubmit:g.handleSubmit(E)},l.createElement(c.Kq,{spacing:6},(null===(e=g.errors)||void 0===e?void 0:e.global)&&l.createElement(b.bZ,{status:"error"},l.createElement(f.zM,{color:"red.500",boxSize:4}),l.createElement(c.xv,{fontSize:"sm",ml:3},g.errors.global.message)),l.createElement(Z,{form:g}),l.createElement(z.Z,{onCancel:()=>p(!1)}))))),l.createElement(_.Ru,null,l.createElement(c.MI,{columns:{base:1,lg:3},spacing:4},l.createElement(c.xu,null,l.createElement(q,{height:"21px",width:"84px",marginBottom:2},l.createElement(c.xv,{fontSize:"sm",fontWeight:"bold"},l.createElement(d.Z,{defaultMessage:[{type:0,value:"Full Name"}],id:"profile_card.label.full_name"}))),l.createElement(q,{height:"21px",width:"140px"},l.createElement(c.xv,{fontSize:"sm"},null==a?void 0:a.firstName," ",null==a?void 0:a.lastName))),l.createElement(c.xu,null,l.createElement(q,{height:"21px",width:"120px",marginBottom:2},l.createElement(c.xv,{fontSize:"sm",fontWeight:"bold"},l.createElement(d.Z,{defaultMessage:[{type:0,value:"Email"}],id:"profile_card.label.email"}))),l.createElement(q,{height:"21px",width:"64px"},l.createElement(c.xv,{fontSize:"sm"},null==a?void 0:a.email))),l.createElement(c.xu,null,l.createElement(q,{height:"21px",width:"80px",marginBottom:2},l.createElement(c.xv,{fontSize:"sm",fontWeight:"bold"},l.createElement(d.Z,{defaultMessage:[{type:0,value:"Phone Number"}],id:"profile_card.label.phone"}))),l.createElement(q,{height:"21px",width:"120px"},l.createElement(c.xv,{fontSize:"sm"},(null==a?void 0:a.phoneHome)||l.createElement(d.Z,{defaultMessage:[{type:0,value:"Not provided"}],id:"profile_card.message.not_provided"})))))))},j=()=>{var e;const{formatMessage:t}=(0,o.Z)(),{data:a}=(0,P.k)(),{isRegistered:n,customerId:s}=a,i=(0,A.useAuthHelper)(A.AuthHelpers.LoginRegisteredUserB2C),u=(0,A.useShopperCustomersMutation)("updateCustomerPassword"),m=(0,v.pm)(),[p,g]=(0,l.useState)(!1),E=(0,x.cI)(),h=function(){var e=(0,r.Z)((function*(e){try{E.clearErrors(),u.mutate({parameters:{customerId:s},body:{password:e.password,currentPassword:e.currentPassword}},{onSuccess:()=>{g(!1),m({title:t({defaultMessage:[{type:0,value:"Password updated"}],id:"password_card.info.password_updated"}),status:"success",isClosable:!0}),i.mutate({email:e.email,password:e.password})}}),g(!1),m({title:t({defaultMessage:[{type:0,value:"Password updated"}],id:"password_card.info.password_updated"}),status:"success",isClosable:!0})}catch(e){E.setError("global",{type:"manual",message:e.message})}}));return function(t){return e.apply(this,arguments)}}();return l.createElement(_.Dj,{id:"password",title:l.createElement(q,{height:"30px",width:"120px"},t({defaultMessage:[{type:0,value:"Password"}],id:"password_card.title.password"})),editing:p,isLoading:E.formState.isSubmitting,onEdit:n?()=>g(!0):void 0,layerStyle:"cardBordered"},l.createElement(_.Zz,null,l.createElement(c.W2,{variant:"form"},l.createElement("form",{onSubmit:E.handleSubmit(h)},l.createElement(c.Kq,{spacing:6},(null===(e=E.errors)||void 0===e?void 0:e.global)&&l.createElement(b.bZ,{status:"error"},l.createElement(f.zM,{color:"red.500",boxSize:4}),l.createElement(c.xv,{fontSize:"sm",ml:3},E.errors.global.message)),l.createElement(N,{form:E}),l.createElement(z.Z,{onCancel:()=>g(!1)}))))),l.createElement(_.Ru,null,l.createElement(c.MI,{columns:{base:1,lg:3},spacing:4},l.createElement(c.xu,null,l.createElement(q,{height:"21px",width:"84px",marginBottom:2},l.createElement(c.xv,{fontSize:"sm",fontWeight:"bold"},l.createElement(d.Z,{defaultMessage:[{type:0,value:"Password"}],id:"password_card.label.password"}))),l.createElement(q,{height:"21px",width:"140px"},l.createElement(c.xv,{fontSize:"sm"},"••••••••"))))))},L=()=>l.createElement(c.Kq,{"data-testid":"account-detail-page",spacing:6},l.createElement(c.X6,{as:"h1",fontSize:"24px"},l.createElement(d.Z,{defaultMessage:[{type:0,value:"Account Details"}],id:"account_detail.title.account_details"})),l.createElement(c.Kq,{spacing:4},l.createElement(K,null),l.createElement(j,null)));L.getTemplateName=()=>"account-detail";const T=L;var D=a(6428),R=a(49),$=a(8422),B=a(7733),W=a(149),F=a(9611),H=a(19),U=a(7105),V=a(7071),X=a(4337);function Y(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function G(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Y(Object(a),!0).forEach((function(t){(0,D.Z)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Y(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}const Q=()=>l.createElement(c.xu,{width:3,height:3,borderLeft:"1px solid",borderTop:"1px solid",borderColor:"blue.600",position:"absolute",left:"50%",bottom:"-23px",zIndex:1,background:"white",transform:"rotate(45deg)"}),J=({form:e,hasAddresses:t,selectedAddressId:a,toggleEdit:r,submitForm:n})=>{var s;return l.createElement(c.xu,(0,E.Z)({border:"1px solid",borderColor:"gray.200",borderRadius:"base",position:"relative"},t&&{gridColumn:[1,"span 2","span 2","span 2","span 3"],paddingX:[4,4,6],paddingY:6,rounded:"base",border:"1px solid",borderColor:"blue.600"}),e.formState.isSubmitting&&l.createElement(B.Z,null),l.createElement(c.Kq,{spacing:6,padding:6},l.createElement(c.X6,{as:"h3",size:"sm"},a?l.createElement(d.Z,{defaultMessage:[{type:0,value:"Edit Address"}],id:"shipping_address_form.heading.edit_address"}):l.createElement(d.Z,{defaultMessage:[{type:0,value:"Add New Address"}],id:"shipping_address_form.heading.new_address"})),l.createElement(c.xu,null,l.createElement(c.W2,{variant:"form"},l.createElement("form",{onSubmit:e.handleSubmit(n)},l.createElement(c.Kq,{spacing:6},(null===(s=e.errors)||void 0===s?void 0:s.global)&&l.createElement(b.bZ,{status:"error"},l.createElement(b.zM,{color:"red.500",boxSize:4}),l.createElement(c.xv,{fontSize:"sm",ml:3},e.errors.global.message)),l.createElement(F.Z,{form:e}),l.createElement(z.Z,{onCancel:r})))))))};J.propTypes={form:s().object,hasAddresses:s().bool,selectedAddressId:s().string,toggleEdit:s().func,submitForm:s().func};const ee=(0,R.Em)({defaultMessage:[{type:0,value:"New address saved"}],id:"account_addresses.info.new_address_saved"}),te=(0,R.Em)({defaultMessage:[{type:0,value:"Address updated"}],id:"account_addresses.info.address_updated"}),ae=(0,R.Em)({defaultMessage:[{type:0,value:"Address removed"}],id:"account_addresses.info.address_removed"}),re=()=>{const{formatMessage:e}=(0,o.Z)(),{data:t,isLoading:a}=(0,P.k)(),{isRegistered:n,addresses:s,customerId:i}=t,m=(0,A.useShopperCustomersMutation)("createCustomerAddress"),p=(0,A.useShopperCustomersMutation)("updateCustomerAddress"),g=(0,A.useShopperCustomersMutation)("removeCustomerAddress"),[E,h]=(0,l.useState)(!1),[v,b]=(0,l.useState)(!1),_=(0,$.p)(),w=(0,x.cI)(),M=(null==s?void 0:s.length)>0,S=function(){var a=(0,r.Z)((function*(a){try{let r;if(w.clearErrors(),v){const e=G(G({},a),{},{addressId:v});r=yield p.mutateAsync({body:e,parameters:{customerId:i,addressName:v}})}else{const e=G({addressId:(0,V.x0)()},a);r=yield m.mutateAsync({body:e,parameters:{customerId:t.customerId}})}r&&(k(),_({title:e(v?te:ee),status:"success",isClosable:!0}))}catch(e){w.setError("global",{type:"manual",message:e.message})}}));return function(e){return a.apply(this,arguments)}}(),Z=function(){var t=(0,r.Z)((function*(t){try{t===v&&(b(void 0),h(!1),w.reset({addressId:""})),yield g.mutateAsync({parameters:{customerId:i,addressName:t}},{onSuccess:()=>{_({title:e(ae),status:"success",isClosable:!0})}})}catch(t){throw _({title:e(X.oj),status:"error"}),t}}));return function(e){return t.apply(this,arguments)}}(),k=e=>{w.reset(G({},e)),null!=e&&e.addressId?(b(e.addressId),h(!0)):(b(void 0),h(!E))};return l.createElement(c.Kq,{spacing:4,"data-testid":"account-addresses-page"},l.createElement(c.X6,{as:"h1",fontSize:"2xl"},l.createElement(d.Z,{defaultMessage:[{type:0,value:"Addresses"}],id:"account_addresses.title.addresses"})),a&&l.createElement(c.MI,{columns:[1,2,2,2,3],spacing:4},new Array(3).fill().map(((e,t)=>l.createElement(W.Z,{key:t},l.createElement(c.Kq,{spacing:2,marginBottom:7},l.createElement(y.Od,{height:"23px",width:"120px"}),l.createElement(y.Od,{height:"23px",width:"84px"}),l.createElement(y.Od,{height:"23px",width:"104px"})))))),M&&l.createElement(c.MI,{columns:[1,2,2,2,3],spacing:4,gridAutoFlow:"row dense"},l.createElement(u.zx,{variant:"outline",border:"1px dashed",borderColor:"gray.200",color:"blue.600",height:{lg:"full"},minHeight:11,rounded:"base",fontWeight:"medium",leftIcon:l.createElement(f.pO,{display:"block",boxSize:"15px"}),onClick:k},l.createElement(d.Z,{defaultMessage:[{type:0,value:"Add Address"}],id:"account_addresses.button.add_address"}),E&&!v&&l.createElement(Q,null)),E&&!v&&l.createElement(J,{form:w,hasAddresses:M,submitForm:S,selectedAddressId:v,toggleEdit:k}),s.map((e=>l.createElement(l.Fragment,{key:e.addressId},l.createElement(W.Z,{borderColor:"gray.200",key:e.addressId,onRemove:()=>Z(e.addressId),onEdit:()=>k(e)},e.preferred&&l.createElement(c.Ct,{position:"absolute",fontSize:"xs",right:4,variant:"solid",bg:"gray.100",color:"gray.900"},l.createElement(d.Z,{defaultMessage:[{type:0,value:"Default"}],id:"account_addresses.badge.default"})),l.createElement(H.Z,{address:e}),E&&e.addressId===v&&l.createElement(Q,null)),E&&e.addressId===v&&l.createElement(J,{form:w,hasAddresses:M,submitForm:S,selectedAddressId:v,toggleEdit:k}))))),!M&&!a&&l.createElement(l.Fragment,null,!E&&n&&l.createElement(U.Z,{icon:l.createElement(f._t,{boxSize:8}),heading:e({defaultMessage:[{type:0,value:"No Saved Addresses"}],id:"account_addresses.page_action_placeholder.heading.no_saved_addresses"}),text:e({defaultMessage:[{type:0,value:"Add a new address method for faster checkout."}],id:"account_addresses.page_action_placeholder.message.add_new_address"}),buttonText:e({defaultMessage:[{type:0,value:"Add Address"}],id:"account_addresses.page_action_placeholder.button.add_address"}),onButtonClick:k}),E&&!v&&l.createElement(J,{form:w,hasAddresses:M,submitForm:S,selectedAddressId:v,toggleEdit:k})))};re.getTemplateName=()=>"account-addresses";const le=re;var ne=a(4651),se=a(1777),oe=a(2602),de=a(8596);const ie=["data"],ce=({productItems:e})=>{const t=e.map((e=>e.productId)).join(",")??"",{data:{data:a}={},isLoading:r}=(0,A.useProducts)({parameters:{ids:t}}),n=null==a?void 0:a.map((e=>{var t;return null==e||null===(t=e.imageGroups)||void 0===t?void 0:t.find((e=>"small"===e.viewType)).images[0]}));return l.createElement(l.Fragment,null,!r&&a?n.map(((e,t)=>l.createElement(c.oM,{key:t,ratio:1,width:"88px",w:"88px",borderRadius:"base",overflow:"hidden"},l.createElement(ne.Ei,{alt:null==e?void 0:e.alt,src:(null==e?void 0:e.disBaseLink)||(null==e?void 0:e.link),fallback:l.createElement(c.xu,{background:"gray.100",boxSize:"full"})})))):e.map(((e,t)=>l.createElement(y.Od,{key:t,h:"88px",w:"88px"}))))};ce.propTypes={productItems:s().array};const ue="undefined"!=typeof window,me=()=>{const e=(0,i.TH)(),{formatMessage:t,formatDate:a}=(0,o.Z)(),r=(0,se.Z)(),{data:n}=(0,P.k)(),{customerId:s}=n,m=(0,oe.lr)(X.tV),{limit:p,offset:E}=m[0],v=(0,A.useCustomerOrders)({parameters:{customerId:s,limit:p,offset:E}},{enabled:ue}),{data:{data:b}={},isLoading:x}=v,_=(0,h.Z)(v.data,ie),w=(null==b?void 0:b.length)>0,M=(0,oe.g6)({total:_.total,limit:p});return(0,l.useEffect)((()=>{window.scrollTo(0,0)}),[n,m.offset]),l.createElement(c.Kq,{spacing:4,"data-testid":"account-order-history-page"},l.createElement(c.Kq,null,l.createElement(c.X6,{as:"h1",fontSize:"2xl"},l.createElement(d.Z,{defaultMessage:[{type:0,value:"Order History"}],id:"account_order_history.title.order_history"}))),x?[1,2,3].map((e=>l.createElement(c.Kq,{key:e,spacing:4,layerStyle:"cardBordered"},l.createElement(c.Kq,{spacing:2},l.createElement(y.Od,{h:"20px",w:"112px"}),l.createElement(y.Od,{h:"20px",w:"200px"})),l.createElement(c.rj,{templateColumns:{base:"repeat(auto-fit, 88px)"},gap:4},Array.from(Array(4).keys()).map((e=>l.createElement(y.Od,{key:e,w:"88px",h:"88px"})))),l.createElement(y.Od,{h:"20px",w:"200px"})))):l.createElement(c.Kq,{spacing:4},null==b?void 0:b.map((e=>l.createElement(c.Kq,{key:e.orderNo,spacing:4,layerStyle:"cardBordered"},l.createElement(c.xu,null,l.createElement(c.kC,{justifyContent:"space-between"},l.createElement(c.xv,{fontWeight:"bold",fontSize:"lg"},l.createElement(d.Z,{defaultMessage:[{type:0,value:"Ordered: "},{type:1,value:"date"}],id:"account_order_history.label.ordered_date",values:{date:a(new Date(e.creationDate),{year:"numeric",day:"numeric",month:"short"})}})),l.createElement(c.xu,null,l.createElement(u.zx,{as:g.Z,to:`/account/orders/${e.orderNo}`,variant:"link",rightIcon:l.createElement(f.XC,{boxSize:5,mx:-1.5}),fontSize:{base:"sm",lg:"md"}},l.createElement(d.Z,{defaultMessage:[{type:0,value:"View details"}],id:"account_order_history.link.view_details"})))),l.createElement(c.Kq,{direction:"row",alignItems:"center"},l.createElement(c.xv,null,l.createElement(d.Z,{defaultMessage:[{type:0,value:"Order Number: "},{type:1,value:"orderNumber"}],id:"account_order_history.label.order_number",values:{orderNumber:e.orderNo}})),l.createElement(c.Ct,{colorScheme:"green"},e.status))),l.createElement(c.rj,{templateColumns:{base:"repeat(auto-fit, 88px)"},gap:4},l.createElement(ce,{productItems:e.productItems})),l.createElement(c.Kq,{direction:{base:"column",lg:"row"},alignItems:{base:"flex-start",lg:"center"},spacing:{base:"2px",lg:3},divider:l.createElement(c.iz,{visibility:{base:"hidden",lg:"visible"},orientation:{lg:"vertical"},h:{base:0,lg:4}})},l.createElement(c.xv,null,l.createElement(d.Z,{defaultMessage:[{type:1,value:"count"},{type:0,value:" items"}],id:"account_order_history.label.num_of_items",values:{count:e.productItems.length}})),l.createElement(c.xv,null,l.createElement(R.BK,{style:"currency",currency:e.currency,value:e.orderTotal})),l.createElement(c.xv,null,l.createElement(d.Z,{defaultMessage:[{type:0,value:"Shipped to: "},{type:1,value:"name"}],id:"account_order_history.label.shipped_to",values:{name:`${e.shipments[0].shippingAddress.firstName} ${e.shipments[0].shippingAddress.lastName}`}})))))),w&&(null==b?void 0:b.length)<_.total&&l.createElement(c.xu,{pt:4},l.createElement(de.Z,{currentURL:`${e.pathname}${e.search}`,urls:M}))),!w&&!x&&l.createElement(c.Kq,{"data-testid":"account-order-history-place-holder"},l.createElement(U.Z,{icon:l.createElement(f.xV,{boxSize:8}),heading:t({defaultMessage:[{type:0,value:"You haven't placed an order yet."}],id:"account_order_history.heading.no_order_yet"}),text:t({defaultMessage:[{type:0,value:"Once you place an order the details will show up here."}],id:"account_order_history.description.once_you_place_order"}),buttonText:t({defaultMessage:[{type:0,value:"Continue Shopping"}],id:"account_order_history.button.continue_shopping"}),buttonProps:{leftIcon:void 0},onButtonClick:()=>r("/")})))};me.getTemplateName=()=>"account-order-history";const pe=me;var ge=a(2895),fe=a(3884),Ee=a(3508),he=a(6647),ye=a(7651),ve=a(858),be=a(4563);function xe(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function _e(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?xe(Object(a),!0).forEach((function(t){(0,D.Z)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):xe(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}const we="undefined"!=typeof window,Me=({productItems:e,currency:t})=>{const a=e.reduce(((e,t)=>_e(_e({},e),{},{[t.productId]:t})),{}),r=Object.keys(a).join(",")??"",{data:{data:n}={},isLoading:s}=(0,A.useProducts)({parameters:{ids:r}},{enabled:!!r&&we}),o=null==n?void 0:n.map((e=>{const t=a[e.id];return _e(_e(_e({},t),e),{},{price:t.price})}));return l.createElement(l.Fragment,null,!s&&(null==o?void 0:o.map(((e,a)=>l.createElement(c.xu,{p:[4,6],key:a,border:"1px solid",borderColor:"gray.100",borderRadius:"base"},l.createElement(Ee.Z,{variant:e,currency:t},l.createElement(c.kC,{width:"full",alignItems:"flex-start"},l.createElement(he.Z,{width:["88px",36],mr:4}),l.createElement(c.Kq,{spacing:1,marginTop:"-3px",flex:1},l.createElement(ye.Z,null),l.createElement(c.kC,{width:"full",justifyContent:"space-between",alignItems:"flex-end"},l.createElement(ve.Z,{includeQuantity:!0,currency:t}),l.createElement(be.Z,{currency:t}))))))))))};Me.propTypes={productItems:s().array.isRequired,currency:s().string};const Se=()=>{var e;const{params:t}=(0,i.$B)(),a=(0,i.k6)(),{formatMessage:r,formatDate:n}=(0,o.Z)(),{data:s,isLoading:m}=(0,A.useOrder)({parameters:{orderNo:t.orderNo}},{enabled:we&&!!t.orderNo}),p=m||!s,E=null==s?void 0:s.shipments[0],{shippingAddress:h,shippingMethod:v,shippingStatus:b,trackingNumber:x}=E||{},_=null==s||null===(e=s.paymentInstruments[0])||void 0===e?void 0:e.paymentCard,w=(0,ge.pg)(null==_?void 0:_.cardType),M=(null==s?void 0:s.productItems.reduce(((e,t)=>t.quantity+e),0))||0;return l.createElement(c.Kq,{spacing:6,"data-testid":"account-order-details-page"},l.createElement(c.Kq,null,l.createElement(c.xu,null,l.createElement(u.zx,{as:g.Z,to:"/account/orders",variant:"link",leftIcon:l.createElement(f.wy,null),size:"sm",onClick:e=>{"PUSH"===a.action&&(e.preventDefault(),a.goBack())}},l.createElement(d.Z,{defaultMessage:[{type:0,value:"Back to Order History"}],id:"account_order_detail.link.back_to_history"}))),l.createElement(c.Kq,{spacing:[1,2]},l.createElement(c.X6,{as:"h1",fontSize:["lg","2xl"]},l.createElement(d.Z,{defaultMessage:[{type:0,value:"Order Details"}],id:"account_order_detail.title.order_details"})),p?l.createElement(y.Od,{h:"20px",w:"192px"}):l.createElement(c.Kq,{direction:["column","row"],alignItems:["flex-start","center"],spacing:[0,3],divider:l.createElement(c.iz,{visibility:{base:"hidden",lg:"visible"},orientation:{lg:"vertical"},h:[0,4]})},l.createElement(c.xv,{fontSize:["sm","md"]},l.createElement(d.Z,{defaultMessage:[{type:0,value:"Ordered: "},{type:1,value:"date"}],id:"account_order_detail.label.ordered_date",values:{date:n(new Date(s.creationDate),{year:"numeric",day:"numeric",month:"short"})}})),l.createElement(c.Kq,{direction:"row",alignItems:"center"},l.createElement(c.xv,{fontSize:["sm","md"]},l.createElement(d.Z,{defaultMessage:[{type:0,value:"Order Number: "},{type:1,value:"orderNumber"}],id:"account_order_detail.label.order_number",values:{orderNumber:s.orderNo}})),l.createElement(c.Ct,{colorScheme:"green"},s.status))))),l.createElement(c.xu,{layerStyle:"cardBordered"},l.createElement(c.rj,{templateColumns:{base:"1fr",xl:"60% 1fr"},gap:{base:6,xl:2}},l.createElement(c.MI,{columns:{base:1,sm:2},columnGap:4,rowGap:5,py:{xl:6}},p?l.createElement(l.Fragment,null,l.createElement(c.Kq,null,l.createElement(y.Od,{h:"20px",w:"84px"}),l.createElement(y.Od,{h:"20px",w:"112px"}),l.createElement(y.Od,{h:"20px",w:"56px"})),l.createElement(c.Kq,null,l.createElement(y.Od,{h:"20px",w:"84px"}),l.createElement(y.Od,{h:"20px",w:"56px"})),l.createElement(c.Kq,null,l.createElement(y.Od,{h:"20px",w:"112px"}),l.createElement(y.Od,{h:"20px",w:"84px"}),l.createElement(y.Od,{h:"20px",w:"56px"})),l.createElement(c.Kq,null,l.createElement(y.Od,{h:"20px",w:"60px"}),l.createElement(y.Od,{h:"20px",w:"84px"}),l.createElement(y.Od,{h:"20px",w:"56px"}))):l.createElement(l.Fragment,null,l.createElement(c.Kq,{spacing:1},l.createElement(c.xv,{fontWeight:"bold",fontSize:"sm"},l.createElement(d.Z,{defaultMessage:[{type:0,value:"Shipping Method"}],id:"account_order_detail.heading.shipping_method"})),l.createElement(c.xu,null,l.createElement(c.xv,{fontSize:"sm",textTransform:"titlecase"},{not_shipped:r({defaultMessage:[{type:0,value:"Not shipped"}],id:"account_order_detail.shipping_status.not_shipped"}),part_shipped:r({defaultMessage:[{type:0,value:"Partially shipped"}],id:"account_order_detail.shipping_status.part_shipped"}),shipped:r({defaultMessage:[{type:0,value:"Shipped"}],id:"account_order_detail.shipping_status.shipped"})}[b]),l.createElement(c.xv,{fontSize:"sm"},v.name),l.createElement(c.xv,{fontSize:"sm"},l.createElement(d.Z,{defaultMessage:[{type:0,value:"Tracking Number"}],id:"account_order_detail.label.tracking_number"}),":"," ",x||r({defaultMessage:[{type:0,value:"Pending"}],id:"account_order_detail.label.pending_tracking_number"})))),l.createElement(c.Kq,{spacing:1},l.createElement(c.xv,{fontWeight:"bold",fontSize:"sm"},l.createElement(d.Z,{defaultMessage:[{type:0,value:"Payment Method"}],id:"account_order_detail.heading.payment_method"})),l.createElement(c.Kq,{direction:"row"},w&&l.createElement(w,{layerStyle:"ccIcon"}),l.createElement(c.xu,null,l.createElement(c.xv,{fontSize:"sm"},null==_?void 0:_.cardType),l.createElement(c.Kq,{direction:"row"},l.createElement(c.xv,{fontSize:"sm"},"••••"," ",null==_?void 0:_.numberLastDigits),l.createElement(c.xv,{fontSize:"sm"},null==_?void 0:_.expirationMonth,"/",null==_?void 0:_.expirationYear))))),l.createElement(c.Kq,{spacing:1},l.createElement(c.xv,{fontWeight:"bold",fontSize:"sm"},l.createElement(d.Z,{defaultMessage:[{type:0,value:"Shipping Address"}],id:"account_order_detail.heading.shipping_address"})),l.createElement(c.xu,null,l.createElement(c.xv,{fontSize:"sm"},h.firstName," ",h.lastName),l.createElement(c.xv,{fontSize:"sm"},h.address1),l.createElement(c.xv,{fontSize:"sm"},h.city,", ",h.stateCode," ",h.postalCode))),l.createElement(c.Kq,{spacing:1},l.createElement(c.xv,{fontWeight:"bold",fontSize:"sm"},l.createElement(d.Z,{defaultMessage:[{type:0,value:"Billing Address"}],id:"account_order_detail.heading.billing_address"})),l.createElement(c.xu,null,l.createElement(c.xv,{fontSize:"sm"},s.billingAddress.firstName," ",s.billingAddress.lastName),l.createElement(c.xv,{fontSize:"sm"},s.billingAddress.address1),l.createElement(c.xv,{fontSize:"sm"},s.billingAddress.city,","," ",s.billingAddress.stateCode," ",s.billingAddress.postalCode))))),p?l.createElement(y.Od,{h:"full"}):l.createElement(c.xu,{py:{base:6},px:{base:6,xl:8},background:"gray.50",borderRadius:"base"},l.createElement(fe.Z,{basket:s,fontSize:"sm"})))),l.createElement(c.Kq,{spacing:4},!p&&l.createElement(c.xv,null,l.createElement(d.Z,{defaultMessage:[{type:1,value:"count"},{type:0,value:" items"}],values:{count:M},id:"account_order_detail.heading.num_of_items"})),l.createElement(c.Kq,{spacing:4},p?[1,2,3].map((e=>l.createElement(c.xu,{key:e,p:[4,6],border:"1px solid",borderColor:"gray.100",borderRadius:"base"},l.createElement(c.kC,{width:"full",align:"flex-start"},l.createElement(y.Od,{boxSize:["88px",36],mr:4}),l.createElement(c.Kq,{spacing:2},l.createElement(y.Od,{h:"20px",w:"112px"}),l.createElement(y.Od,{h:"20px",w:"84px"}),l.createElement(y.Od,{h:"20px",w:"140px"})))))):l.createElement(Me,{productItems:s.productItems,currency:s.currency}))))};Se.getTemplateName=()=>"account-order-history";const Ze=Se,ke=()=>{const{path:e}=(0,i.$B)();return l.createElement(i.rs,null,l.createElement(i.AW,{exact:!0,path:e},l.createElement(pe,null)),l.createElement(i.AW,{exact:!0,path:`${e}/:orderNo`},l.createElement(Ze,null)))};ke.getTemplateName=()=>"account-order-history";const Oe=ke;var Ce=a(533),Ne=a(6550),ze=a(8932),Ae=a(8362),Pe=a(8856);const Ie="undefined"!=typeof window,qe=({onClick:e})=>{const{formatMessage:t}=(0,o.Z)();return l.createElement(l.Fragment,null,l.createElement(c.iz,{colorScheme:"gray",marginTop:3}),l.createElement(u.zx,{fontWeight:"500",onClick:e,padding:4,py:0,variant:"unstyled",_hover:{background:"gray.50"},marginTop:1,borderRadius:"4px",cursor:"pointer",height:11},l.createElement(c.kC,{justify:{base:"center",lg:"flex-start"}},l.createElement(f.Go,{boxSize:5,mr:2}),l.createElement(c.xv,{as:"span",fontSize:["md","md","md","sm"],fontWeight:"normal"},t({defaultMessage:[{type:0,value:"Log Out"}],id:"account.logout_button.button.log_out"})))))};qe.propTypes={onClick:s().func.isRequired};const Ke=()=>{const{path:e}=(0,i.$B)(),{formatMessage:t}=(0,o.Z)(),{data:a}=(0,P.k)(),{isRegistered:n,customerType:s}=a,E=(0,A.useAuthHelper)(A.AuthHelpers.Logout),h=(0,Ne.TH)(),y=(0,se.Z)(),[v,b]=(0,l.useState)(-1),[x,_]=(0,l.useState)(!1),w=(0,Pe.Z)(),{buildUrl:M}=(0,Ae.Z)();(0,l.useEffect)((()=>{w.sendViewPage(h.pathname)}),[h]);const S=function(){var e=(0,r.Z)((function*(){_(!0),yield E.mutateAsync(),y("/login")}));return function(){return e.apply(this,arguments)}}();if(null!==s&&!n&&Ie){const e=M("/login");return l.createElement(i.l_,{to:{pathname:e,state:{directedFrom:"/account"}}})}return l.createElement(c.xu,{"data-testid":n?"account-page":"account-page-skeleton",layerStyle:"page",paddingTop:[4,4,12,12,16]},l.createElement(p.Z,{title:"My Account",description:"Customer Account Page"}),l.createElement(c.rj,{templateColumns:{base:"1fr",lg:"320px 1fr"},gap:{base:10,lg:24}},l.createElement(m.UQ,{display:{base:"block",lg:"none"},allowToggle:!0,reduceMotion:!0,index:v,onChange:b},l.createElement(m.Qd,{border:"none",background:"gray.50",borderRadius:"base"},(({isExpanded:e})=>l.createElement(l.Fragment,null,l.createElement(m.KF,{as:u.zx,height:16,variant:"ghost",color:"black",_active:{background:"gray.100"},_expanded:{background:"transparent"}},l.createElement(c.kC,{align:"center",justify:"center"},l.createElement(c.xv,{as:"span",mr:2},l.createElement(d.Z,{defaultMessage:[{type:0,value:"My Account"}],id:"account.accordion.button.my_account"})),e?l.createElement(f.g8,null):l.createElement(f.v4,null))),l.createElement(m.Hk,{px:4,paddingBottom:4},l.createElement(c.kC,{as:"nav",spacing:0,direction:"column"},ze.FV.map((e=>l.createElement(u.zx,{key:e.name,as:g.Z,to:`/account${e.path}`,useNavLink:!0,variant:"menu-link-mobile",justifyContent:"center",fontSize:"md",fontWeight:"normal",onClick:()=>b(-1)},t(ze.sY[e.name])))),l.createElement(qe,{justify:"center",onClick:S}))))))),l.createElement(c.Kq,{display:{base:"none",lg:"flex"},spacing:4},x&&l.createElement(B.Z,{wrapperStyles:{height:"100vh"}}),l.createElement(c.X6,{as:"h6",fontSize:"18px"},l.createElement(d.Z,{defaultMessage:[{type:0,value:"My Account"}],id:"account.heading.my_account"})),l.createElement(c.kC,{spacing:0,as:"nav","data-testid":"account-detail-nav",direction:"column"},ze.FV.map((e=>{const a=e.icon;return l.createElement(u.zx,{key:e.name,as:g.Z,to:`/account${e.path}`,useNavLink:!0,variant:"menu-link",leftIcon:l.createElement(a,{boxSize:5})},t(ze.sY[e.name]))})),l.createElement(qe,{onClick:S}))),l.createElement(i.rs,null,l.createElement(i.AW,{exact:!0,path:e},l.createElement(T,null)),l.createElement(i.AW,{exact:!0,path:`${e}/wishlist`},l.createElement(Ce.default,null)),l.createElement(i.AW,{exact:!0,path:`${e}/addresses`},l.createElement(le,null)),l.createElement(i.AW,{path:`${e}/orders`},l.createElement(Oe,null)))))};Ke.getTemplateName=()=>"account",Ke.propTypes={match:s().object};const je=Ke}}]);